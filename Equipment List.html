<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="STYLE2.CSS">
            <link rel="stylesheet" href="StylesPhone.css">
    <script src="login.js"></script>
    <script src="Animated.js"></script>
    <!-- فيديو الخلفية-->

<video autoplay muted loop class="video-background" src="Media/Website Designs c.mp4"></video>

<!-- انواع الخطوط -->
<link class="Inter"href="https://fonts.googleapis.com/css?family=Inter:100,200,300,regular,500,600,700,800,900,100italic,200italic,300italic,italic,500italic,600italic,700italic,800italic,900italic" rel="stylesheet" />  <!-- "Inter", sans-serif; -->
<link class="Fredoka"href="https://fonts.googleapis.com/css?family=Fredoka:300,regular,500,600,700" rel="stylesheet" />   <!-- "Fredoka", sans-serif; -->
<link class="Poppins"href="https://fonts.googleapis.com/css?family=Poppins:100,100italic,200,200italic,300,300italic,regular,italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic" rel="stylesheet" />  <!-- "Poppins", sans-serif; -->
<link class="Lilita" href="https://fonts.googleapis.com/css?family=Lilita+One:regular" rel="stylesheet" /><!-- "Lilita One", sans-serif; -->
<link class="Google" href="https://fonts.googleapis.com/css?family=Google+Sans+Code:300,regular,500,600,700,800,300italic,italic,500italic,600italic,700italic,800italic" rel="stylesheet" />    <!-- "Google Sans Code", monospace; -->
<link href="https://fonts.googleapis.com/css?family=Playwrite+AU+QLD:100,200,300,regular" rel="stylesheet" />    <!-- "Playwrite CU", cursive; -->
<link href="https://fonts.googleapis.com/css?family=Kaushan+Script:regular" rel="stylesheet" />     <!-- "Kaushan Script", cursive; -->
<link href="https://fonts.googleapis.com/css?family=Lobster:regular" rel="stylesheet" />  <!-- "Lobster", sans-serif; -->
<link href="https://fonts.googleapis.com/css?family=Nerko+One:regular" rel="stylesheet" />   <!-- "Nerko One", cursive; -->
<link href="https://fonts.googleapis.com/css?family=Agbalumo:regular" rel="stylesheet" />  <!-- "Agbalumo", system-ui; -->
<link href="https://fonts.googleapis.com/css?family=Sour+Gummy:100,200,300,regular,500,600,700,800,900,100italic,200italic,300italic,italic,500italic,600italic,700italic,800italic,900italic" rel="stylesheet" />  <!-- "Sour Gummy", sans-serif; -->
<link href="https://fonts.googleapis.com/css?family=Slabo+27px:regular" rel="stylesheet" />   <!-- "Slabo 27px", serif; -->
<link href="https://fonts.googleapis.com/css?family=Livvic:100,100italic,200,200italic,300,300italic,regular,italic,500,500italic,600,600italic,700,700italic,900,900italic" rel="stylesheet" /><!-- </head>"Livvic", sans-serif; -->

</head>
<body>
<header>   <!-- الهيدر -->
 <img class="PHDULogo" src="Media/PHDU Logo.png" alt="PHDU Logo" >

  <!-- Menu Button for Mobile -->
  <button id="menuBtn" class="menu-btn">☰</button>

  <!-- Navigation -->  
<nav class="Navigation">   <!--القسم مخصص للتنقل-->
    <ul id="navMenu">    <!-- ليست بار -->    <!-- href يعني رابط-->

<li class="active"><a href="index.html">Home</a></li>

<li class="dropdown Education">
  <a href="#Education">Education</a>
  <div class="dropdown-content">
    <a href="#Learning" id="comingSoon1">Learning</a>
    <a href="#CompetencyTools" id="comingSoon2">Competency Tools</a>
    <a href="#Updates" id="comingSoon3">Updates</a>
  </div>
</li>
<li class="dropdown2 ClinicalResources">
  <a href="#ClinicalResources">Clinical Resources</a>
  <div class="dropdown-content2">
    <a href="#Guidelines" id="comingSoon4">Guidelines</a>
    <a href="#Policies" id="comingSoon5">Policies</a>
    <a href="#Documents" id="comingSoon6">Documents</a>
    <a href="#QuickReferences" id="comingSoon7">Quick References</a>
  </div>
</li>
<li class="dropdown2 HospitalOperations">
  <a href="#HospitalOperations">Hospital Operations</a>
  <div class="dropdown-content2">
    <a href="#AdmissionTransfer" id="comingSoon8">Admission and Transfer</a>
    <a href="#DutyRoster" id="comingSoon9">Duty Roster</a>
    <a href="#Inventory" id="comingSoon10">Inventory</a>
        <a href="Equipment List.html">Equipment</a>
    <a href="#WorkOrder" id="comingSoon11">Work Order</a>
    <a href="#CSSD" id="comingSoon12">CSSD</a>
    <a href="#Loan" id="comingSoon13">Loan</a>
  </div>
</li>

<li class="dropdown2 QualityAndSafety">
  <a href="#Quality&Safety">Quality and Safety</a>
  <div class="dropdown-content2">
    <a href="#Audit" id="comingSoon14">Audit</a>
    <a href="#Statistics" id="comingSoon15">Statistics</a>
    <a href="#Ejada" id="comingSoon16">Ejada</a>
    <a href="#DisasterPlan" id="comingSoon17">Disaster Plan</a>
    <a href="#SafetyEvent" id="comingSoon18">Safety Event</a>
  </div>
</li>

<li class="dropdown2 NursingHR">
  <a href="#NursingHR">Nursing HR</a>
  <div class="dropdown-content2" id="NursingHR">
    <a href="Personal Data list.html">Personal Data and Training Records</a>
    <a href="DashboardMain.html">Dashboard</a>
    <a href="#PerformanceandCompetency" id="comingSoon19">Performance and Competency</a>
    <a href="#ReportsandTracking" id="comingSoon20">Reports and Tracking</a>
    <a href="#Other" id="comingSoon21">Other</a>
  </div>
</li>

<li class="dropdown2 AdminControl" id="adminControlMenu">
  <a href="#AdminControl">Admin Control</a>
  <div class="dropdown-content2" id="Adminss">
    <ul id="adminDropdown">
      <!-- خيارات الأدمن ستضاف هنا ديناميكياً -->
    </ul>
  </div>
</li>


    <li><a href="About.html">About Me</a></li>

<li class="dropdown account-dropdown" style="position: relative;">
  <a href="javascript:void(0)" id="accountBtn">Account</a>
  <ul id="accountMenu">
    <li><a href="javascript:void(0)" id="loginOption">Login</a></li>
    <li><a href="javascript:void(0)" id="logoutOption">Logout</a></li>
  </ul>
</li>

<div id="logoContainer" >
    <div  id="userDisplay" ></div>
</div>


<!-- Login Modal HTML -->
<div id="loginModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; 
    background-color: rgba(0, 0, 0, 0.5); justify-content:center; align-items:center; font-family:'Lilita One', sans-serif; z-index:1000;">
    <div style="background-color:white; padding:20px; border-radius:10px; width:300px; text-align:center; position:relative;">
        <span id="closeModal" style="position:absolute; top:10px; right:15px; cursor:pointer; font-weight:bold;">&times;</span>
        <h2>Login</h2>
        <input type="text" id="usernameInput" placeholder="Username" style="width:90%; padding:5px; margin-top:10px;"><br><br>
        <input type="password" id="passwordInput" placeholder="Password" style="width:90%; padding:5px;"><br><br>
        <button id="submitLogin" style="padding:5px 10px;">Login</button>
    </div>
</div>

<!-- Welcome Box Modal -->
<div id="welcomeModal" class="modal">
  <div class="modal-content" style="
  text-align: center;
  position: relative;
  box-shadow: 0 8px 25px rgba(0,0,0,0.2);
  transform: scale(0.8);
  animation: scaleUp 0.3s ease forwards;">
    <span id="closeWelcome" class="close">&times;</span>
    <h2 id="welcomeMessage"></h2>
    <p id="welcomeSubMessage"></p>
  </div>
</div>
<!-- مودال Add Staff -->
<div id="addStaffModal" class="modal">
    <div class="modal-content">
        <span id="closeAddStaff" class="close">&times;</span>
        <h2>Add New Staff</h2>
        <form id="addStaffForm">
            <div class="form-group">
                <label for="staffName">Name:</label>
                <input type="text" id="staffName" placeholder="Enter full name" required>
            </div>
            <div class="form-group">
                <label for="staffEmail">Email:</label>
                <input type="email" id="staffEmail" placeholder="Enter email" required>
            </div>
            <div class="form-group">
                <label for="staffPassword">Password:</label>
                <input type="password" id="staffPassword" placeholder="Enter password" required>
            </div>
            <button type="submit" class="submit-btn">Add Staff</button>
        </form>
        <button id="viewStaffBtn">View All Staff</button>
    </div>
</div>
</nav>

</header>

<hr class="Line1">    <!-- عل شان نضيف الخط الفاصل بين القسمين -->
</div>

<!-- Popup -->
<div class="popup" id="popup">
  <div class="popup-content">
    <img src="Media/3d-bell-realistic-icon-isolated-white-background-vector-render-bell-with-new-notification-push-chat-alert-message_145391-1220.jpg" id="BELL">
    <p>This option is currently unavailable. We will notify you when it becomes ready.</p>
    <button id="closePopup">OK</button>
  </div>
</div>
<script>
document.addEventListener("DOMContentLoaded", function() {
    const comingSoonOptions = ["comingSoon1", "comingSoon2","comingSoon3","comingSoon4","comingSoon5","comingSoon6","comingSoon7","comingSoon8","comingSoon9","comingSoon10","comingSoon11","comingSoon12","comingSoon13","comingSoon14","comingSoon18","comingSoon16","comingSoon17","comingSoon18","comingSoon19","comingSoon20","comingSoon21","comingSoon22","comingSoon23","comingSoon24","comingSoon25","comingSoon26","comingSoon27"];
    const popup = document.getElementById("popup");
    const closeBtn = document.getElementById("closePopup");

    comingSoonOptions.forEach(id => {
        const element = document.getElementById(id);
        if(element){
            element.addEventListener("click", function(event) {
                event.preventDefault();
                popup.classList.remove("show");
                void popup.offsetWidth; // trigger reflow
                popup.classList.add("show");
            });
        }
    });

    closeBtn.addEventListener("click", function() {
        popup.classList.remove("show");
    });

    window.addEventListener("click", function(event) {
        if(event.target === popup){
            popup.classList.remove("show");
        }
    });
});

// Toggle mobile menu & account dropdown
document.addEventListener('DOMContentLoaded', function() {
  const menuBtn = document.getElementById('menuBtn');
  const navMenu = document.querySelector('.Navigation ul');

  const accountBtn = document.getElementById('accountBtn');
  const accountMenu = document.getElementById('accountMenu');

  // Toggle mobile menu
  menuBtn.addEventListener('click', (e) => {
    e.stopPropagation(); // منع وصول الحدث للخارج
    navMenu.classList.toggle('show-mobile-nav');
  });

  // Toggle account dropdown
  accountBtn.addEventListener('click', (e) => {
    e.stopPropagation(); // منع وصول الحدث للخارج
    accountMenu.style.display = accountMenu.style.display === 'block' ? 'none' : 'block';
  });

  // Close menus when clicking outside
  document.addEventListener('click', function(e) {
    // إغلاق account menu
    if (!accountBtn.contains(e.target) && !accountMenu.contains(e.target)) {
      accountMenu.style.display = 'none';
    }

    // إغلاق mobile nav
    if (!menuBtn.contains(e.target) && !navMenu.contains(e.target)) {
      navMenu.classList.remove('show-mobile-nav');
    }
  });
});
document.addEventListener("DOMContentLoaded", function () {
  const accountBtn = document.getElementById("accountBtn");
  const accountMenu = document.getElementById("accountMenu");

  // يفتح ويقفل القائمة لما أضغط على Account
  accountBtn.addEventListener("click", (e) => {
    e.stopPropagation();
    accountMenu.style.display =
      accountMenu.style.display === "block" ? "none" : "block";
  });

  // إغلاق القائمة إذا ضغطت برا
  document.addEventListener("click", function (e) {
    if (!accountBtn.contains(e.target) && !accountMenu.contains(e.target)) {
      accountMenu.style.display = "none";
    }
  });
});
</script>
 <body>

  <!-- زر فوق المربعات -->
  <div class="btn-container">
<button class="check-btn" onclick="window.location.href='Equipment.html'">
  Check Equipment
</button>
  </div>

  <!-- المربعات -->
  <div class="cards-container">
    <div class="info-card"><h3>Total Equipment in PHDU</h3><p id="total">Waiting...</p></div>
    <div class="info-card"><h3>Total Equipment Checked</h3><p id="checked">Waiting...</p></div>
    <div class="info-card"><h3>Total Equipment Not Checked</h3><p id="notChecked">Waiting...</p></div>
    <div class="info-card"><h3>Total Equipment (Working)</h3><p id="working">Waiting...</p></div>
    <div class="info-card"><h3>Total Equipment (Missing)</h3><p id="missing">Waiting...</p></div>
    <div class="info-card"><h3>Total Equipment (Disposed)</h3><p id="disposed">Waiting...</p></div>
    <div class="info-card"><h3>Total Equipment (Waiting for spare part)</h3><p id="spare">Waiting...</p></div>
    <div class="info-card"><h3>Total Equipment (With Biomedical)</h3><p id="biomedical">Waiting...</p></div>
    <div class="info-card"><h3>Total Equipment (Loaned by patient)</h3><p id="loaned">Waiting...</p></div>
    <div class="info-card"><h3>Total Equipment (Condemn)</h3><p id="condemn">Waiting...</p></div>
    <div class="info-card"><h3>Total Equipment (Condemn in Use)</h3><p id="condemnUse">Waiting...</p></div>
    <div class="info-card"><h3>Total Equipment (Missing condemn in use)</h3><p id="missingCondemnUse">Waiting...</p></div>
  </div>

  <!-- الجدول -->
  <div class="card">
    <h1>Equipment in PHDU list</h1>
    <div class="controls">
      <input id="search" placeholder="Search..." />
    </div>
    <div id="status" class="empty"></div>
    <table id="table"></table>
  </div>
<script>
  const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbxKPb1vH71Soz6DhW9nCMygplaJuwELuaNr9vfOhdUro91JEkzhxrig5zCuQDw2oknMWQ/exec";

  const tableEl = document.getElementById('table');
  const statusEl = document.getElementById('status');
  const searchEl = document.getElementById('search');

  const cardsMap = {
    total: "total",
    checked: "checked",
    notChecked: "notChecked",
    working: "working",
    missing: "missing",
    disposed: "disposed",
    spare: "spare",
    biomedical: "biomedical",
    loaned: "loaned",
    condemn: "condemn",
    condemnUse: "condemnUse",
    missingCondemnUse: "missingCondemnUse",
  };

  let rows = [];
  let headers = [];

  function render(items) {
    tableEl.innerHTML = '';
    if (!items.length) {
      statusEl.textContent = 'No matching data.';
      return;
    }
    statusEl.textContent = '';

    // استخدم جميع الرؤوس القادمة من السكربت
    const visibleHeaders = headers;

    const thead = document.createElement('thead');
    const headerRow = document.createElement('tr');
    visibleHeaders.forEach(h => {
      const th = document.createElement('th');
      th.textContent = h;
      headerRow.appendChild(th);
    });
    thead.appendChild(headerRow);
    tableEl.appendChild(thead);

    const tbody = document.createElement('tbody');
    // اعرض كل الصفوف دون تجاهل أي صفوف صحيحة
    items.forEach(row => {
      const tr = document.createElement('tr');
      visibleHeaders.forEach(h => {
        const td = document.createElement('td');
        td.textContent = row[h] ?? '';
        tr.appendChild(td);
      });
      tbody.appendChild(tr);
    });
    tableEl.appendChild(tbody);
  }

  function filter() {
    const q = searchEl.value.trim().toLowerCase();
    const filtered = rows.filter(r =>
      Object.values(r).some(val => String(val).toLowerCase().includes(q))
    );
    render(filtered);
    updateCards(filtered);
  }

  function updateCards(data) {
    if (!data || !data.length) {
      Object.values(cardsMap).forEach(id => {
        const el = document.getElementById(id);
        if (el) el.textContent = "0";
      });
      return;
    }

    const totals = {
      total: data.length,
      checked: 0,
      notChecked: 0,
      working: 0,
      missing: 0,
      disposed: 0,
      spare: 0,
      biomedical: 0,
      loaned: 0,
      condemn: 0,
      condemnUse: 0,
      missingCondemnUse: 0,
    };

    const statusCol = "STATUS"; // ← تأكد أن الاسم مطابق للرأس في الشيت

    data.forEach(r => {
      const rawStatus = r[statusCol] || "";
      const status = rawStatus.trim().toLowerCase();

      if (status) {
        totals.checked++;
      } else {
        totals.notChecked++;
      }

      if (status === "working" || status.includes("working")) totals.working++;
      if (status.includes("missing condemin in use")) totals.missingCondemnUse++;
      else if (status.includes("missing")) totals.missing++;
      if (status.includes("disposed")) totals.disposed++;
      if (status.includes("spare")) totals.spare++;
      if (status.includes("biomedical")) totals.biomedical++;
      if (status.includes("loan")) totals.loaned++;
      if (status.includes("condemn in use")) totals.condemnUse++;
      else if (status.includes("condemn")) totals.condemn++;
    });

    Object.entries(totals).forEach(([key, value]) => {
      const el = document.getElementById(cardsMap[key]);
      if (el) el.textContent = value;
    });
  }

  async function load() {
    statusEl.textContent = 'Loading...';
    try {
      const res = await fetch(SCRIPT_URL);
      const data = await res.json();
      rows = data.rows || [];
      headers = data.headers || [];
      console.log("Headers:", headers);
      render(rows);
      updateCards(rows);
    } catch (err) {
      console.error(err);
      statusEl.textContent = 'Failed to fetch data. Please check Web App permissions.';
    }
  }

  searchEl.addEventListener('input', filter);
  load();
</script>


<!-- Footer Section -->
<footer style="background-color: #1f2937; color: #f3f4f6; padding: 40px 20px; font-family: Arial, sans-serif;">
  <div style="max-width: 1200px; margin: auto; display: flex; flex-wrap: wrap; justify-content: space-between; gap: 20px;">
    
    <!-- About Section -->
    <div style="flex: 1; min-width: 200px;">
      <h3 style="margin-bottom: 10px;">About NurseSphere</h3>
      <p style="line-height: 1.6; font-size: small;" class="AbP">
        NurseSphere is your go-to platform for nursing <br>education, resources, and professional updates.<br> Empowering healthcare staff with knowledge <br>and tools for excellence in practice.
      </p>
    </div>

    <!-- Quick Links -->
<div style="flex: 1; min-width: 200px;">
  <h3 style="margin-bottom: 10px;">Quick Links</h3>
  <ul class="Footer"  style="list-style: none; padding: 0; display: flex; flex-wrap: wrap; gap: 10px;">
    <li style="width: 45%;"><a href="#Education" id="comingSoon23"   style="color: #3477ff; text-decoration: none; font-weight: bold; font-size: small;">ُEducation</a></li>
    <li style="width: 45%;"><a href="#ClinicalResources" id="comingSoon24" style="color: #3477ff; text-decoration: none; font-weight: bold; font-size: small;">Clinical Resources</a></li>
    <li style="width: 45%;"><a href="#HospitalOperations" id="comingSoon25" style="color: #3477ff; text-decoration: none; font-weight: bold; font-size: small;">Hospital Operations</a></li>
    <li style="width: 45%;"><a href="#QualityandSafety" id="comingSoon26" style="color: #3477ff; text-decoration: none; font-weight: bold; font-size: small;">Quality and Safety</a></li>
    <li style="width: 45%;"><a href="#NursingHR" id="comingSoon27" style="color: #3477ff; text-decoration: none; font-weight: bold; font-size: small;">Nursing HR</a></li>
    <li style="width: 45%;"><a href="About.html"  style="color: #3477ff; text-decoration: none; font-weight: bold; font-size: small;">About me</a></li>
  </ul>
</div>


    <!-- Contact -->
    <div style="flex: 1; min-width: 200px;">
      <h3 style="margin-bottom: 10px;">Contact Us</h3>
      <p>Email: <a href="mailto:info@nursesphere.com" style="color: #f3f4f6; text-decoration: none;">info@nursesphere.com</a></p>
      <p>Phone: +968 1234 5678</p>
      <p>Address: Royal Hospital, Oman</p>
    </div>

  </div>

  <div style="text-align: center; margin-top: 30px; font-size: 14px; color: #9ca3af;">
    &copy; 2025 NurseSphere. All rights reserved.
  </div>
</footer>


</section>


</body>
</html>

<head>
  <style>
  body {
      font-family: "Cairo", system-ui, Arial;
      background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);

    }
    
    /* ===== زر أعلى المربعات ===== */
    .btn-container {
      max-width: 1250px;
      margin: 0 auto 20px auto;
      text-align: center;
      margin-top: 2rem;
    }
    .check-btn {
      background-color: #1a60e8;
      color: #fff;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      transition: background-color 0.3s ease, transform 0.2s ease;
    }
    .check-btn:hover {
      background-color: #164bb8;
      transform: translateY(-2px);
    }

      /* ===== البطاقات ===== */
    .cards-container {
      max-width: 1250px;
      margin: 0 auto 20px auto;
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 20px;
      margin-top: 3rem;
    }
    .info-card {
      background: #fff;
      border-radius: 12px;
      padding: 15px;
      box-shadow: 0 6px 16px rgba(0,0,0,0.08);
      text-align: center;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .info-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 24px rgba(0,0,0,0.12);
    }
    .info-card h3 {
      margin: 0 0 8px;
      font-size: 15px;
      color: #1a60e8;
    }
    .info-card p {
      margin-bottom: 10px;
      font-size: 15px;
      color: #555;
    }

      /* ===== البطاقة التي تحتوي الجدول ===== */
    .card {
      max-width: 10000px;
      margin: 3rem;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 10px 24px rgba(0,0,0,0.08);
      padding: 20px;
      overflow-x: auto;
    }
    h1 {
      margin: 0 0 12px;
      font-size: 22px;
      text-align: center;
    }
    .controls {
      display: flex;
      gap: 8px;
      margin: 12px 0 20px;
    }
    .controls input {
      flex: 1;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 10px;
    }
      table {
      width: 100%;
      border-collapse: collapse;
      direction: ltr;
    }
    th, td {
      padding: 10px 14px;
      border: 1px solid #eee;
      text-align: left;
    }
    th {
      background: #eef5ff;
      color: #1a60e8;
      font-weight: bold;
    }
    tr:nth-child(even) {
      background: #f9f9f9;
    }
     .empty {
      padding: 14px;
      text-align: center;
      color: #777;
    }
    #search {
  text-align: left;          /* محاذاة النص الذي يكتبه المستخدم لليسار */
  direction: ltr;            /* يجعل مؤشر الكتابة يبدأ من اليسار */
}

#search::placeholder {
  text-align: left;          /* محاذاة نص الـ placeholder لليسار */
  direction: ltr;            /* اتجاه placeholder من اليسار */
}

    </style>